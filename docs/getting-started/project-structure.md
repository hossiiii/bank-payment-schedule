# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ è©³ç´°

éŠ€è¡Œåˆ¥å¼•è½äºˆå®šè¡¨PWAã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è©³ç´°ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã¨ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“ ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
bank-payment-schedule/
â”œâ”€â”€ src/                    # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”œâ”€â”€ public/                 # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ docs/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ __tests__/              # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ coverage/               # ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
â”œâ”€â”€ playwright-report/      # E2Eãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ
â”œâ”€â”€ context-engineering/    # é–‹ç™ºãƒ»è¨­è¨ˆè³‡æ–™
â”œâ”€â”€ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¾¤
â””â”€â”€ README.md
```

## ğŸ¯ src/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãƒ¡ã‚¤ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼‰

### App Routeræ§‹é€  (`src/app/`)

```
src/app/
â”œâ”€â”€ globals.css             # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ layout.tsx              # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆèªè¨¼ãƒ»PWAè¨­å®šï¼‰
â”œâ”€â”€ page.tsx                # ãƒ›ãƒ¼ãƒ ï¼ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºï¼‰
â”œâ”€â”€ schedule/
â”‚   â””â”€â”€ page.tsx           # å¼•è½äºˆå®šè¡¨ãƒšãƒ¼ã‚¸
â””â”€â”€ settings/
    â””â”€â”€ page.tsx           # è¨­å®šãƒ»ãƒã‚¹ã‚¿ç®¡ç†ãƒšãƒ¼ã‚¸
```

**é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«:**
- `layout.tsx`: å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã€PWAè¨­å®š
- `page.tsx`: ãƒ¡ã‚¤ãƒ³ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç”»é¢ã€å–å¼•å…¥åŠ›ã®èµ·ç‚¹
- `schedule/page.tsx`: éŠ€è¡Œåˆ¥å¼•è½äºˆå®šã®ä¸€è¦§è¡¨ç¤º
- `settings/page.tsx`: éŠ€è¡Œãƒ»ã‚«ãƒ¼ãƒ‰ãƒã‚¹ã‚¿ã®ç®¡ç†ç”»é¢

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆéšå±¤ (`src/components/`)

```
src/components/
â”œâ”€â”€ calendar/               # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ BaseModal.tsx      # ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ãƒ™ãƒ¼ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ CalendarCell.tsx   # å€‹åˆ¥æ—¥ä»˜ã‚»ãƒ«
â”‚   â”œâ”€â”€ CalendarView.tsx   # ãƒ¡ã‚¤ãƒ³ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ CalendarViewWithStore.tsx  # ã‚¹ãƒˆã‚¢é€£æºç‰ˆ
â”‚   â”œâ”€â”€ DayTotalModal.tsx  # æ—¥åˆ¥åˆè¨ˆè¡¨ç¤ºãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”œâ”€â”€ MonthNavigation.tsx # æœˆé–“ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ ScheduleEditModal.tsx # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç·¨é›†
â”‚   â”œâ”€â”€ ScheduleModal.tsx  # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨ç¤º
â”‚   â”œâ”€â”€ ScheduleViewModal.tsx # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸€è¦§
â”‚   â”œâ”€â”€ TransactionModal.tsx # å–å¼•å…¥åŠ›/ç·¨é›†
â”‚   â”œâ”€â”€ TransactionViewModal.tsx # å–å¼•ä¸€è¦§
â”‚   â””â”€â”€ index.ts           # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç®¡ç†
â”œâ”€â”€ schedule/              # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é–¢é€£
â”‚   â”œâ”€â”€ BankScheduleTable.tsx # å¼•è½äºˆå®šè¡¨
â”‚   â”œâ”€â”€ MobileScheduleCard.tsx # ãƒ¢ãƒã‚¤ãƒ«ç‰ˆã‚«ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ MonthSelector.tsx  # æœˆé¸æŠ
â”‚   â”œâ”€â”€ PaymentRow.tsx     # æ”¯æ‰•ã„è¡Œ
â”‚   â”œâ”€â”€ ScheduleFilters.tsx # ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ TransactionDetailModal.tsx # å–å¼•è©³ç´°
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ encryption/            # æš—å·åŒ–ãƒ»èªè¨¼é–¢é€£
â”‚   â”œâ”€â”€ AutoLockWarning.tsx # è‡ªå‹•ãƒ­ãƒƒã‚¯è­¦å‘Š
â”‚   â”œâ”€â”€ EncryptionProvider.tsx # æš—å·åŒ–ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ MigrationDialog.tsx # ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ
â”‚   â”œâ”€â”€ PasswordChange.tsx # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´
â”‚   â”œâ”€â”€ PasswordSetup.tsx  # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®š
â”‚   â”œâ”€â”€ SessionLock.tsx    # ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ­ãƒƒã‚¯
â”‚   â”œâ”€â”€ SessionStatus.tsx  # ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ settings/              # è¨­å®šé–¢é€£
â”‚   â”œâ”€â”€ BankMaster.tsx     # éŠ€è¡Œãƒã‚¹ã‚¿ç®¡ç†
â”‚   â”œâ”€â”€ CardMaster.tsx     # ã‚«ãƒ¼ãƒ‰ãƒã‚¹ã‚¿ç®¡ç†
â”‚   â”œâ”€â”€ DataFixPanel.tsx   # ãƒ‡ãƒ¼ã‚¿ä¿®å¾©ãƒ‘ãƒãƒ«
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ ui/                    # æ±ç”¨UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ Button.tsx         # ãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ Input.tsx          # å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”‚   â”œâ”€â”€ Modal.tsx          # ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”œâ”€â”€ Navigation.tsx     # ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ database/              # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â”œâ”€â”€ MigrationErrorDialog.tsx # ç§»è¡Œã‚¨ãƒ©ãƒ¼
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ demo/                  # ãƒ‡ãƒ¢ãƒ»é–‹ç™ºç”¨
â”‚   â””â”€â”€ StoreDemo.tsx
â””â”€â”€ dev/                   # é–‹ç™ºãƒ„ãƒ¼ãƒ«
    â””â”€â”€ StoreDebugPanel.tsx
```

### ãƒ•ãƒƒã‚¯ç®¡ç† (`src/hooks/`)

```
src/hooks/
â”œâ”€â”€ index.ts               # ãƒ¡ã‚¤ãƒ³ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â””â”€â”€ modal/                 # ãƒ¢ãƒ¼ãƒ€ãƒ«ç®¡ç†ãƒ•ãƒƒã‚¯
    â”œâ”€â”€ index.ts
    â”œâ”€â”€ useModalManager.ts # ãƒ¢ãƒ¼ãƒ€ãƒ«çµ±åˆç®¡ç†
    â””â”€â”€ useModalManagerAdapter.ts # ã‚¹ãƒˆã‚¢é€£æº
```

### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ (`src/lib/`)

```
src/lib/
â”œâ”€â”€ contexts/              # React Context
â”‚   â””â”€â”€ EncryptionContext.tsx # æš—å·åŒ–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”œâ”€â”€ database/              # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å±¤
â”‚   â”œâ”€â”€ backup.ts          # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½
â”‚   â”œâ”€â”€ encryption.ts      # æš—å·åŒ–å‡¦ç†
â”‚   â”œâ”€â”€ encryptionConfig.ts # æš—å·åŒ–è¨­å®š
â”‚   â”œâ”€â”€ errors.ts          # ã‚¨ãƒ©ãƒ¼å®šç¾©
â”‚   â”œâ”€â”€ index.ts           # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ migrationHandler.ts # ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ
â”‚   â”œâ”€â”€ migrationUtils.ts  # ç§»è¡Œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ operations.ts      # CRUDæ“ä½œ
â”‚   â”œâ”€â”€ schema.ts          # Dexie.jsã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ versionManager.ts  # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
â”œâ”€â”€ hooks/                 # è¿½åŠ ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ calendar/          # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å°‚ç”¨ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ useCalendarCalculations.ts # è¨ˆç®—å‡¦ç†
â”‚   â”‚   â”œâ”€â”€ useCalendarNavigation.ts   # ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â””â”€â”€ useSwipeGesture.ts        # ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œ
â”‚   â”œâ”€â”€ optimizedUseDatabase.ts # æœ€é©åŒ–ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ useAutoLock.ts     # è‡ªå‹•ãƒ­ãƒƒã‚¯
â”‚   â”œâ”€â”€ useDatabase.ts     # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”‚   â”œâ”€â”€ useEncryption.ts   # æš—å·åŒ–
â”‚   â”œâ”€â”€ useFilteredSchedule.ts # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ•ã‚£ãƒ«ã‚¿
â”‚   â”œâ”€â”€ useScheduleData.ts # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ useSwipeNavigation.ts # ã‚¹ãƒ¯ã‚¤ãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ utils/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”œâ”€â”€ dataFixUtils.ts    # ãƒ‡ãƒ¼ã‚¿ä¿®å¾©
â”‚   â”œâ”€â”€ dateUtils.ts       # æ—¥ä»˜å‡¦ç†
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ logger.ts          # ãƒ­ã‚°æ©Ÿèƒ½
â”‚   â”œâ”€â”€ paymentCalc.ts     # æ”¯æ‰•ã„è¨ˆç®—
â”‚   â”œâ”€â”€ scheduleUtils.ts   # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å‡¦ç†
â”‚   â””â”€â”€ validation.ts      # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ utils.ts               # æ±ç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ error/                 # ã‚¨ãƒ©ãƒ¼å‡¦ç†ï¼ˆæ–°è¦ï¼‰
â””â”€â”€ query/                 # ã‚¯ã‚¨ãƒªå‡¦ç†ï¼ˆæ–°è¦ï¼‰
```

### Zustand ã‚¹ãƒˆã‚¢ (`src/store/`)

```
src/store/
â”œâ”€â”€ index.ts               # ãƒ¡ã‚¤ãƒ³ã‚¹ãƒˆã‚¢
â”œâ”€â”€ selectors/             # ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ slices/                # çŠ¶æ…‹ã‚¹ãƒ©ã‚¤ã‚¹
â”‚   â”œâ”€â”€ modalSlice.ts      # ãƒ¢ãƒ¼ãƒ€ãƒ«çŠ¶æ…‹
â”‚   â”œâ”€â”€ scheduleSlice.ts   # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«çŠ¶æ…‹
â”‚   â”œâ”€â”€ transactionSlice.ts # å–å¼•çŠ¶æ…‹
â”‚   â””â”€â”€ uiSlice.ts         # UIçŠ¶æ…‹
â””â”€â”€ types/                 # ã‚¹ãƒˆã‚¢å‹å®šç¾©
    â””â”€â”€ index.ts
```

### å‹å®šç¾© (`src/types/`)

```
src/types/
â”œâ”€â”€ calendar.ts            # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹
â”œâ”€â”€ database.ts            # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å‹
â”œâ”€â”€ modal.ts               # ãƒ¢ãƒ¼ãƒ€ãƒ«å‹
â””â”€â”€ schedule.ts            # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å‹
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ§‹é€  (`__tests__/`)

```
__tests__/
â”œâ”€â”€ components/            # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ calendar/         # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ store/           # ã‚¹ãƒˆã‚¢é€£æºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ e2e/                  # E2Eãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ hooks/                # ãƒ•ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ integration/          # çµ±åˆãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ lib/                  # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ database/        # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”‚   â””â”€â”€ utils/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ performance/          # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ store/                # ã‚¹ãƒˆã‚¢ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ slices/          # ã‚¹ãƒ©ã‚¤ã‚¹ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ integration/     # ã‚¹ãƒˆã‚¢çµ±åˆãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ types/                # å‹ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ utils/                # ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â””â”€â”€ scripts/              # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

## ğŸ“„ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

### TypeScriptè¨­å®š
- `tsconfig.json`: ãƒ¡ã‚¤ãƒ³TypeScriptè¨­å®šï¼ˆStrict Modeï¼‰
- `next-env.d.ts`: Next.jså‹å®šç¾©

### ãƒ“ãƒ«ãƒ‰ãƒ»ãƒãƒ³ãƒ‰ãƒ«è¨­å®š
- `next.config.js`: Next.jsè¨­å®šï¼ˆPWAã€ç”»åƒæœ€é©åŒ–ï¼‰
- `tailwind.config.js`: Tailwind CSSè¨­å®š
- `postcss.config.js`: PostCSSè¨­å®š

### ã‚³ãƒ¼ãƒ‰å“è³ª
- `.eslintrc.json`: ESLintè¨­å®š
- `.prettierrc`: Prettierè¨­å®š

### ãƒ†ã‚¹ãƒˆè¨­å®š
- `jest.config.js`: Jestè¨­å®š
- `jest.setup.js`: JeståˆæœŸåŒ–
- `playwright.config.ts`: Playwright E2Eãƒ†ã‚¹ãƒˆè¨­å®š
- `playwright-global-setup.ts`: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- `playwright-global-teardown.ts`: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†
- `package.json`: ä¾å­˜é–¢ä¿‚ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `package-lock.json`: ä¾å­˜é–¢ä¿‚ãƒ­ãƒƒã‚¯

## ğŸ¯ é‡è¦ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³

### 1. ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
è¡¨ç¾å±¤ (Presentation)
â”œâ”€â”€ pages/ (App Router)
â”œâ”€â”€ components/
â””â”€â”€ hooks/

ãƒ“ã‚¸ãƒã‚¹å±¤ (Business Logic)
â”œâ”€â”€ lib/utils/ (è¨ˆç®—ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³)
â”œâ”€â”€ store/ (çŠ¶æ…‹ç®¡ç†)
â””â”€â”€ lib/hooks/ (ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯)

ãƒ‡ãƒ¼ã‚¿å±¤ (Data Access)
â”œâ”€â”€ lib/database/ (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ)
â”œâ”€â”€ types/ (ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«)
â””â”€â”€ lib/contexts/ (å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ )
```

### 2. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†é›¢

```
æ©Ÿèƒ½åˆ¥ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«:
- Calendar Module (calendar/, types/calendar.ts)
- Schedule Module (schedule/, types/schedule.ts)
- Database Module (lib/database/, types/database.ts)
- Encryption Module (encryption/, lib/contexts/)
- UI Module (ui/)
```

### 3. çŠ¶æ…‹ç®¡ç†ãƒ‘ã‚¿ãƒ¼ãƒ³

```
ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ (Zustand):
- ãƒ¢ãƒ¼ãƒ€ãƒ«çŠ¶æ…‹
- ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- UIçŠ¶æ…‹

ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ (React Hooks):
- ãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹
- ä¸€æ™‚çš„UIçŠ¶æ…‹
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…éƒ¨çŠ¶æ…‹

ContextçŠ¶æ…‹:
- èªè¨¼çŠ¶æ…‹
- ãƒ†ãƒ¼ãƒè¨­å®š
```

## ğŸ“‹ ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `PascalCase.tsx`: React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `index.ts`: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç®¡ç†ï¼ˆre-exportï¼‰

### ãƒ•ãƒƒã‚¯
- `use*.ts`: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯

### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
- `camelCase.ts`: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
- `*Utils.ts`: ç‰¹å®šåˆ†é‡ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

### å‹å®šç¾©
- `camelCase.ts`: å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«
- `*Types.ts`: ç‰¹å®šåˆ†é‡ã®å‹ï¼ˆé¿ã‘ã‚‹ã€ä¸Šè¨˜ã‚’å„ªå…ˆï¼‰

### ãƒ†ã‚¹ãƒˆ
- `*.test.ts/tsx`: å˜ä½“ãƒ†ã‚¹ãƒˆ
- `*.spec.ts`: E2Eãƒ†ã‚¹ãƒˆ
- `*.integration.test.ts`: çµ±åˆãƒ†ã‚¹ãƒˆ

## ğŸ”§ ä¾å­˜é–¢ä¿‚ã®æ–¹å‘

```
App Pages â†’ Components â†’ Hooks â†’ Lib â†’ Types
     â†“           â†“         â†“      â†“
   Store â†â†’ Selectors â†â†’ Utils â†â†’ Database
```

**é‡è¦ãªåŸå‰‡:**
- ä¸Šä½å±¤ã¯ä¸‹ä½å±¤ã«ä¾å­˜ã§ãã‚‹
- ä¸‹ä½å±¤ã¯ä¸Šä½å±¤ã«ä¾å­˜ã—ãªã„
- åŒä¸€å±¤å†…ã§ã¯ç›¸äº’ä¾å­˜ã‚’æœ€å°åŒ–
- Store ã¯ç‹¬ç«‹ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦ç®¡ç†

## ğŸ“š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®äº‹é …

### ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é©åˆ‡ãªåˆ†å‰²
- Tree-shakingå¯¾å¿œã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- Dynamic import ã§ã®é…å»¶èª­ã¿è¾¼ã¿

### ãƒãƒ³ãƒ‰ãƒ«åˆ†æ
```bash
# ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºåˆ†æ
npm run build
npm run analyze  # ï¼ˆè¦è¨­å®šè¿½åŠ ï¼‰
```

### ã‚³ãƒ¼ãƒ‰åˆ†å‰²æˆ¦ç•¥
- ãƒšãƒ¼ã‚¸å˜ä½ã§ã®è‡ªå‹•åˆ†å‰² (Next.js App Router)
- é‡ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å‹•çš„èª­ã¿è¾¼ã¿
- ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é…å»¶èª­ã¿è¾¼ã¿

ã“ã®æ§‹é€ ã«ã‚ˆã‚Šã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã§ä¿å®ˆæ€§ã®é«˜ã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚
